<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HgCdTe Zincblende Structure</title>
    <style>
        /* Basic styling for the viewer container */
        #viewer-container {
            height: 500px; /* Adjust height as needed */
            width: 90%;   /* Use percentage for some responsiveness */
            max-width: 600px; /* Maximum width */
            border: 1px solid lightgray; /* See the container boundaries */
            position: relative; /* Needed by 3Dmol.js */
            margin: 20px auto; /* Center the container */
        }
    </style>
</head>
<body>

<h1>HgCdTe (Zincblende) Structure</h1>
<p>Legend: Te (Yellow), Hg (Grey), Cd (Blue)</p>

<!-- This div will hold the 3Dmol.js viewer -->
<div id="viewer-container"></div>

<!-- Include 3Dmol.js library from CDN -->
<!-- IMPORTANT: Using the corrected integrity hash from the previous error discussion -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/3Dmol/2.1.0/3Dmol-min.js"
        integrity="sha512-7+jpQprKBlgz3G5m9L70sa3b51rBx5VxBAvVLKfHgOfw3VmfmRp7zdfeBbuDBCwrS/mObsJxMT1yketh0gEkIw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    // Wait for the page elements to load
    document.addEventListener("DOMContentLoaded", function() {

        // --- Configuration ---
        const lattice_a = 6.47; // Approx. lattice constant for Hg0.5Cd0.5Te (Angstroms)
        const numAtoms = 8;

        // --- Atomic Coordinates (XYZ format) ---
        // Using an ordered approximation for Hg0.5Cd0.5Te in a Zincblende unit cell
        const xyzData = `${numAtoms}
Hg0.5Cd0.5Te Unit Cell (Ordered Approximation, a=${lattice_a} A)
Te ${0.0 * lattice_a} ${0.0 * lattice_a} ${0.0 * lattice_a}
Te ${0.0 * lattice_a} ${0.5 * lattice_a} ${0.5 * lattice_a}
Te ${0.5 * lattice_a} ${0.0 * lattice_a} ${0.5 * lattice_a}
Te ${0.5 * lattice_a} ${0.5 * lattice_a} ${0.0 * lattice_a}
Hg ${0.25 * lattice_a} ${0.25 * lattice_a} ${0.25 * lattice_a}
Cd ${0.25 * lattice_a} ${0.75 * lattice_a} ${0.75 * lattice_a}
Hg ${0.75 * lattice_a} ${0.25 * lattice_a} ${0.75 * lattice_a}
Cd ${0.75 * lattice_a} ${0.75 * lattice_a} ${0.25 * lattice_a}
`;

        // --- 3Dmol.js Viewer Setup ---
        let viewerElement = document.getElementById('viewer-container');
        let viewer = $3Dmol.createViewer(viewerElement, { backgroundColor: 'white' });

        // Load the atomic data
        viewer.addModel(xyzData, 'xyz');

        // Apply ball-and-stick style with specific colors
        viewer.setStyle({}, {
            stick: { radius: 0.15 },
            sphere: { scale: 0.3 }
        });
        viewer.setStyle({elem:'Te'}, {sphere:{color:'yellow'}, stick:{color:'yellow'}});
        viewer.setStyle({elem:'Hg'}, {sphere:{color:'grey'},   stick:{color:'grey'}});
        viewer.setStyle({elem:'Cd'}, {sphere:{color:'blue'},   stick:{color:'blue'}});

        // Add the unit cell outline
        viewer.addUnitCell();

        // Zoom camera to fit the model
        viewer.zoomTo();

        // Draw the scene
        viewer.render();

    }); // End DOMContentLoaded
</script>

</body>
</html>
